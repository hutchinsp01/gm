def w(c,d,p=0):
 v=[]
 while len(v)<7e4:
  v+=[c];x,y=d;n=i,j=c[0]+x,c[1]+y
  if(0<=i<len(g)>j>=0)^1:return{*v}
  c,d=((n,d),(c,(-y,x)))[g[j][i]=="#"or n==p]
g=[*open(0)];i,_=d=s=0,-1
for x in g:s=max(s,(x.find("^"),i));i+=1
print(len(v:=w(s,d)),sum(bool(w(s,d,p))^1for p in v-{s}))